<po-modal p-hide-close p-size="lg" [p-primary-action]="primaryAction" [p-title]="title">
  <div class="po-row">
    <po-accordion class="po-md-12 po-mt-1 po-mb-1" *ngIf="details.length > 1; else elseBlock">
      <po-accordion-item *ngFor="let detail of details" [p-label]="formatDetailItemTitle(detail)">
        <ng-template [ngTemplateOutlet]="body" [ngTemplateOutletContext]="{detail}"></ng-template>
      </po-accordion-item>
    </po-accordion>
  </div>
</po-modal>

<ng-template #elseBlock>
  <ng-container [ngTemplateOutlet]="body" [ngTemplateOutletContext]="{ detail: details[0] || {} }"></ng-container>
</ng-template>

<ng-template #body let-detail="detail">
  <div *ngIf="detail.type" class="po-row po-mb-1">
    <po-tag [p-color]="typeColor(detail.type)" [p-value]="typeValue(detail.type)"></po-tag>
  </div>

  <p *ngIf="detail.detailTitle">
    <strong>{{ detail.code }}</strong>
  </p>

  <div class="po-row">
    <p>{{ detail.detailedMessage }}</p>
  </div>
</ng-template>
