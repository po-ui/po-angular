<ng-container *ngIf="isRange; then rangeTemplate; else calendarTemplate"></ng-container>

<ng-template #rangeTemplate>
  <div class="po-calendar-range">
    <ng-container *ngTemplateOutlet="calendarWrapper; context: { partType: 'start' }"></ng-container>
    <ng-container *ngTemplateOutlet="calendarWrapper; context: { partType: 'end' }"></ng-container>
  </div>
</ng-template>

<ng-template #calendarTemplate>
  <div class="po-calendar">
    <ng-template [ngTemplateOutlet]="calendarWrapper"></ng-template>
  </div>
</ng-template>

<ng-template #calendarWrapper let-partType="partType">
  <po-calendar-wrapper
    [p-value]="getValue(partType)"
    [p-activate-date]="getActivateDate(partType)"
    [p-locale]="locale"
    [p-min-date]="minDate"
    [p-max-date]="maxDate"
    [p-part-type]="partType"
    [p-range]="isRange"
    [p-selected-value]="value"
    (p-header-change)="onHeaderChange($event, partType)"
    (p-select-date)="onSelectDate($event, partType)"
  >
  </po-calendar-wrapper>
</ng-template>
