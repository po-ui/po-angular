@if (appendBox) {
  <ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="target" [cdkConnectedOverlayOpen]="true">
    <ng-container *ngTemplateOutlet="sharedPopoverContent"></ng-container>
  </ng-template>
} @else {
  <ng-container *ngTemplateOutlet="sharedPopoverContent"></ng-container>
}

<ng-template #sharedPopoverContent>
  <div [hidden]="isHidden" class="po-popover" #popoverElement>
    @if (!hideArrow) {
      <div class="po-popover-arrow po-arrow-{{ arrowDirection }}"></div>
    }

    <div class="po-popover-content">
      @if (title) {
        <span class="po-popover-title">{{ title }}</span>
      }
      <ng-content></ng-content>
    </div>
  </div>
</ng-template>
