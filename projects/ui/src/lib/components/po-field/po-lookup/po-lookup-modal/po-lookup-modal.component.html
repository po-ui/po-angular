<po-modal
  p-click-out="false"
  p-hide-close="false"
  p-size="lg"
  [p-primary-action]="isAdvancedSearch ? primaryActionAdvancedSearch : primaryAction"
  [p-secondary-action]="isAdvancedSearch ? secondaryActionAdvancedSearch : secondaryAction"
  [p-title]="isAdvancedSearch ? modalAdvancedTitle : title"
>
  <ng-container *ngIf="isAdvancedSearch; then dynamicFormTemplate; else defaultTemplate"></ng-container>
</po-modal>

<ng-template #defaultTemplate>
  <div *ngIf="advancedFilters && advancedFilters.length > 0" class="po-lookup-filter-search po-pull-right">
    <span
      class="po-lookup-filter-search-link"
      tabindex="0"
      (click)="onAdvancedSearch()"
      (keydown.enter)="onAdvancedSearch()"
    >
      {{ literals.modalAdvancedSearch }}
    </span>
  </div>
  <po-field-container class="po-lookup-header po-md-6 po-sm-6 po-pull-right" [p-optional]="false">
    <div class="po-field-container-content">
      <input
        #inpsearch
        class="po-input po-input-icon-right"
        name="contentSearch"
        [(ngModel)]="searchValue"
        [placeholder]="literals.modalPlaceholder"
        (keyup.enter)="search()"
        type="text"
      />

      <div class="po-field-icon-container-right">
        <span #iconLookup class="po-icon po-field-icon po-icon-search" (click)="search()"> </span>
      </div>
    </div>
  </po-field-container>

  <div class="po-row">
    <!-- DISCLAIMER -->
    <po-disclaimer-group
      *ngIf="!!disclaimerGroup"
      [p-disclaimers]="disclaimerGroup?.disclaimers"
      [p-title]="disclaimerGroup?.title"
      (p-change)="onChangeDisclaimerGroup()"
    >
    </po-disclaimer-group>
  </div>

  <div class="po-row po-lookup-container-table" [style.height.px]="containerHeight">
    <po-table
      class="po-md-12"
      p-selectable="true"
      p-hide-detail="true"
      p-single-select="true"
      p-sort="true"
      [p-columns]="columns"
      [p-height]="tableHeight"
      [p-items]="items"
      [p-literals]="tableLiterals"
      [p-loading]="isLoading"
      [p-show-more-disabled]="!hasNext"
      (p-show-more)="showMoreEvent()"
      (p-sort-by)="sortBy($event)"
    >
    </po-table>
  </div>
</ng-template>

<ng-template #dynamicFormTemplate>
  <ng-container #container> </ng-container>
</ng-template>
